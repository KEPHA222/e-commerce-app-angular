<div class="min-h-screen bg-gray-100 p-8">
  <!-- Page Title -->
  <h2 class="text-3xl font-bold mb-8 text-gray-800">Products</h2>

  <!-- Loading Spinner -->
  @if (loading()) {
    <div class="flex justify-center items-center h-64">
      <div
        class="w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"
      ></div>
    </div>
  }

  <!-- Empty State -->
  @if (!loading() && products().length === 0) {
    <div class="text-center text-gray-500 text-lg mt-10">No products available</div>
  }

  <!-- Products Grid -->
  @if (!loading() && products().length > 0) {
    <div class="grid gap-8 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4">
      @for (product of products(); track product.id) {
        <div class="bg-white rounded-2xl shadow-md hover:shadow-xl transition p-4 flex flex-col">
          <!-- Image -->
          <img
            [src]="product.thumbnail"
            alt="{{ product.title }}"
            class="h-48 object-cover rounded-xl mb-4"
          />

          <!-- Title -->
          <h3 class="text-lg font-semibold text-gray-800 mb-2 line-clamp-2">
            {{ product.title }}
          </h3>

          <!-- Price -->
          <p class="text-blue-600 font-bold text-lg mb-4">KES {{ product.price }}</p>

          <!-- Add Button -->
          <button
            class="mt-auto bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-xl font-medium transition"
            (click)="addToCart(product)"
          >
            Add to Cart
          </button>
        </div>
      }
    </div>
  }

  <!-- Floating Cart Button -->
  <a
    routerLink="/cart"
    class="fixed bottom-8 right-8 bg-green-600 hover:bg-green-700 text-white p-4 rounded-full shadow-2xl transition-all hover:scale-110 flex items-center gap-2"
  >
    <span class="font-bold">View Cart</span>
  </a>
</div>
